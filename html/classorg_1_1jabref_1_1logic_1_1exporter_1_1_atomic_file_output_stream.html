<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DAT265 Group2: org.jabref.logic.exporter.AtomicFileOutputStream Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">DAT265 Group2
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('classorg_1_1jabref_1_1logic_1_1exporter_1_1_atomic_file_output_stream.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-static-methods">Static Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#pri-static-attribs">Static Private Attributes</a> &#124;
<a href="classorg_1_1jabref_1_1logic_1_1exporter_1_1_atomic_file_output_stream-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">org.jabref.logic.exporter.AtomicFileOutputStream Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for org.jabref.logic.exporter.AtomicFileOutputStream:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classorg_1_1jabref_1_1logic_1_1exporter_1_1_atomic_file_output_stream.png" alt=""/>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ac35dfecbc500d12f88dedf2fb466464c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1jabref_1_1logic_1_1exporter_1_1_atomic_file_output_stream.html#ac35dfecbc500d12f88dedf2fb466464c">AtomicFileOutputStream</a> (Path path, boolean <a class="el" href="classorg_1_1jabref_1_1logic_1_1exporter_1_1_atomic_file_output_stream.html#ac02ee080160092d512f3cc528c73bbb1">keepBackup</a>)  throws IOException </td></tr>
<tr class="separator:ac35dfecbc500d12f88dedf2fb466464c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3fa4a35534258ef51575a9b7795d512"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1jabref_1_1logic_1_1exporter_1_1_atomic_file_output_stream.html#ad3fa4a35534258ef51575a9b7795d512">AtomicFileOutputStream</a> (Path path)  throws IOException </td></tr>
<tr class="separator:ad3fa4a35534258ef51575a9b7795d512"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60807b57335902373a8fa9842d0d22a3"><td class="memItemLeft" align="right" valign="top">Path&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1jabref_1_1logic_1_1exporter_1_1_atomic_file_output_stream.html#a60807b57335902373a8fa9842d0d22a3">getBackup</a> ()</td></tr>
<tr class="separator:a60807b57335902373a8fa9842d0d22a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9fd3e19d9a0a148a8b7d279198d38fb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1jabref_1_1logic_1_1exporter_1_1_atomic_file_output_stream.html#ab9fd3e19d9a0a148a8b7d279198d38fb">write</a> (byte b[], int off, int len)  throws IOException </td></tr>
<tr class="separator:ab9fd3e19d9a0a148a8b7d279198d38fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b9eb75cd1ac6a7392945122153f8275"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1jabref_1_1logic_1_1exporter_1_1_atomic_file_output_stream.html#a4b9eb75cd1ac6a7392945122153f8275">abort</a> ()</td></tr>
<tr class="separator:a4b9eb75cd1ac6a7392945122153f8275"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44ab1d5b0acf1496f319986b65da3c36"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1jabref_1_1logic_1_1exporter_1_1_atomic_file_output_stream.html#a44ab1d5b0acf1496f319986b65da3c36">close</a> ()  throws IOException </td></tr>
<tr class="separator:a44ab1d5b0acf1496f319986b65da3c36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d95a45564bace29ee79301fe8bd9ad4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1jabref_1_1logic_1_1exporter_1_1_atomic_file_output_stream.html#a3d95a45564bace29ee79301fe8bd9ad4">flush</a> ()  throws IOException </td></tr>
<tr class="separator:a3d95a45564bace29ee79301fe8bd9ad4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c883ff17dffff911cb935ea8e889964"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1jabref_1_1logic_1_1exporter_1_1_atomic_file_output_stream.html#a1c883ff17dffff911cb935ea8e889964">write</a> (int b)  throws IOException </td></tr>
<tr class="separator:a1c883ff17dffff911cb935ea8e889964"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a4c1ea83bfc7a3b1879da350f75f81abd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1jabref_1_1logic_1_1exporter_1_1_atomic_file_output_stream.html#a4c1ea83bfc7a3b1879da350f75f81abd">cleanup</a> ()</td></tr>
<tr class="separator:a4c1ea83bfc7a3b1879da350f75f81abd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-methods"></a>
Static Private Member Functions</h2></td></tr>
<tr class="memitem:a43b313a54e65ec2f2e19c1d6703c405f"><td class="memItemLeft" align="right" valign="top">static Path&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1jabref_1_1logic_1_1exporter_1_1_atomic_file_output_stream.html#a43b313a54e65ec2f2e19c1d6703c405f">getPathOfTemporaryFile</a> (Path <a class="el" href="classorg_1_1jabref_1_1logic_1_1exporter_1_1_atomic_file_output_stream.html#a532962de18bf1437ea5be486d96e976c">targetFile</a>)</td></tr>
<tr class="separator:a43b313a54e65ec2f2e19c1d6703c405f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae352f3cce28b23a5587fad7ed3b083b4"><td class="memItemLeft" align="right" valign="top">static Path&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1jabref_1_1logic_1_1exporter_1_1_atomic_file_output_stream.html#ae352f3cce28b23a5587fad7ed3b083b4">getPathOfBackupFile</a> (Path <a class="el" href="classorg_1_1jabref_1_1logic_1_1exporter_1_1_atomic_file_output_stream.html#a532962de18bf1437ea5be486d96e976c">targetFile</a>)</td></tr>
<tr class="separator:ae352f3cce28b23a5587fad7ed3b083b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a532962de18bf1437ea5be486d96e976c"><td class="memItemLeft" align="right" valign="top">final Path&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1jabref_1_1logic_1_1exporter_1_1_atomic_file_output_stream.html#a532962de18bf1437ea5be486d96e976c">targetFile</a></td></tr>
<tr class="separator:a532962de18bf1437ea5be486d96e976c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18826048af78fc65010787de9a875baa"><td class="memItemLeft" align="right" valign="top">final Path&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1jabref_1_1logic_1_1exporter_1_1_atomic_file_output_stream.html#a18826048af78fc65010787de9a875baa">temporaryFile</a></td></tr>
<tr class="separator:a18826048af78fc65010787de9a875baa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4bee80e8b9f646a0c4858655b32e262f"><td class="memItemLeft" align="right" valign="top">final FileLock&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1jabref_1_1logic_1_1exporter_1_1_atomic_file_output_stream.html#a4bee80e8b9f646a0c4858655b32e262f">temporaryFileLock</a></td></tr>
<tr class="separator:a4bee80e8b9f646a0c4858655b32e262f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a653ba7e5d5b0a1688994f6579c2cb114"><td class="memItemLeft" align="right" valign="top">final Path&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1jabref_1_1logic_1_1exporter_1_1_atomic_file_output_stream.html#a653ba7e5d5b0a1688994f6579c2cb114">backupFile</a></td></tr>
<tr class="separator:a653ba7e5d5b0a1688994f6579c2cb114"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac02ee080160092d512f3cc528c73bbb1"><td class="memItemLeft" align="right" valign="top">final boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1jabref_1_1logic_1_1exporter_1_1_atomic_file_output_stream.html#ac02ee080160092d512f3cc528c73bbb1">keepBackup</a></td></tr>
<tr class="separator:ac02ee080160092d512f3cc528c73bbb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-attribs"></a>
Static Private Attributes</h2></td></tr>
<tr class="memitem:a6d38b9cd70f8842a62078e242b521f90"><td class="memItemLeft" align="right" valign="top">static final Logger&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1jabref_1_1logic_1_1exporter_1_1_atomic_file_output_stream.html#a6d38b9cd70f8842a62078e242b521f90">LOGGER</a> = LoggerFactory.getLogger(AtomicFileOutputStream.class)</td></tr>
<tr class="separator:a6d38b9cd70f8842a62078e242b521f90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f20e5d6ba6cbc42c8fd745451d0c453"><td class="memItemLeft" align="right" valign="top">static final String&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1jabref_1_1logic_1_1exporter_1_1_atomic_file_output_stream.html#a4f20e5d6ba6cbc42c8fd745451d0c453">TEMPORARY_EXTENSION</a> = &quot;.tmp&quot;</td></tr>
<tr class="separator:a4f20e5d6ba6cbc42c8fd745451d0c453"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92e3f7bd225c5022e41e80b442d5c3c2"><td class="memItemLeft" align="right" valign="top">static final String&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1jabref_1_1logic_1_1exporter_1_1_atomic_file_output_stream.html#a92e3f7bd225c5022e41e80b442d5c3c2">BACKUP_EXTENSION</a> = &quot;.bak&quot;</td></tr>
<tr class="separator:a92e3f7bd225c5022e41e80b442d5c3c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A file output stream that is similar to the standard <a class="el" href="">FileOutputStream</a>, except that all writes are first redirected to a temporary file. When the stream is closed, the temporary file (atomically) replaces the target file.</p>
<p>In detail, the strategy is to: </p><ol>
<li>
Write to a temporary file (with .tmp suffix) in the same directory as the destination file. </li>
<li>
Create a backup (with .bak suffix) of the original file (if it exists) in the same directory. </li>
<li>
Move the temporary file to the correct place, overwriting any file that already exists at that location. </li>
<li>
Delete the backup file (if configured to do so). </li>
</ol>
<p>If all goes well, no temporary or backup files will remain on disk after closing the stream. </p>
<p>Errors are handled as follows: </p><ol>
<li>
If anything goes wrong while writing to the temporary file, the temporary file will be deleted (leaving the original file untouched). </li>
<li>
If anything goes wrong while copying the temporary file to the target file, the backup of the original file is kept. </li>
</ol>
<p>Implementation inspired by code from <a href="https://github.com/martylamb/atomicfileoutputstream/blob/master/src/main/java/com/martiansoftware/io/AtomicFileOutputStream.java">Marty Lamb</a> and <a href="https://github.com/apache/zookeeper/blob/master/src/java/main/org/apache/zookeeper/common/AtomicFileOutputStream.java">Apache</a>. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ac35dfecbc500d12f88dedf2fb466464c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac35dfecbc500d12f88dedf2fb466464c">&#9670;&nbsp;</a></span>AtomicFileOutputStream() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">org.jabref.logic.exporter.AtomicFileOutputStream.AtomicFileOutputStream </td>
          <td>(</td>
          <td class="paramtype">Path&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">boolean&#160;</td>
          <td class="paramname"><em>keepBackup</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> throws IOException</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Creates a new output stream to write to or replace the file at the specified path.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>the path of the file to write to or replace </td></tr>
    <tr><td class="paramname">keepBackup</td><td>whether to keep the backup file after a successful write process </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad3fa4a35534258ef51575a9b7795d512"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad3fa4a35534258ef51575a9b7795d512">&#9670;&nbsp;</a></span>AtomicFileOutputStream() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">org.jabref.logic.exporter.AtomicFileOutputStream.AtomicFileOutputStream </td>
          <td>(</td>
          <td class="paramtype">Path&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td> throws IOException</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Creates a new output stream to write to or replace the file at the specified path. The backup file is deleted when the write was successful.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>the path of the file to write to or replace </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a4b9eb75cd1ac6a7392945122153f8275"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4b9eb75cd1ac6a7392945122153f8275">&#9670;&nbsp;</a></span>abort()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void org.jabref.logic.exporter.AtomicFileOutputStream.abort </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Closes the write process to the temporary file but does not commit to the target file. </p>

</div>
</div>
<a id="a4c1ea83bfc7a3b1879da350f75f81abd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c1ea83bfc7a3b1879da350f75f81abd">&#9670;&nbsp;</a></span>cleanup()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void org.jabref.logic.exporter.AtomicFileOutputStream.cleanup </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a44ab1d5b0acf1496f319986b65da3c36"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a44ab1d5b0acf1496f319986b65da3c36">&#9670;&nbsp;</a></span>close()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void org.jabref.logic.exporter.AtomicFileOutputStream.close </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> throws IOException</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a3d95a45564bace29ee79301fe8bd9ad4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d95a45564bace29ee79301fe8bd9ad4">&#9670;&nbsp;</a></span>flush()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void org.jabref.logic.exporter.AtomicFileOutputStream.flush </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> throws IOException</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a60807b57335902373a8fa9842d0d22a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a60807b57335902373a8fa9842d0d22a3">&#9670;&nbsp;</a></span>getBackup()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Path org.jabref.logic.exporter.AtomicFileOutputStream.getBackup </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns the path of the backup copy of the original file (may not exist) </p>

</div>
</div>
<a id="ae352f3cce28b23a5587fad7ed3b083b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae352f3cce28b23a5587fad7ed3b083b4">&#9670;&nbsp;</a></span>getPathOfBackupFile()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static Path org.jabref.logic.exporter.AtomicFileOutputStream.getPathOfBackupFile </td>
          <td>(</td>
          <td class="paramtype">Path&#160;</td>
          <td class="paramname"><em>targetFile</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a43b313a54e65ec2f2e19c1d6703c405f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a43b313a54e65ec2f2e19c1d6703c405f">&#9670;&nbsp;</a></span>getPathOfTemporaryFile()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static Path org.jabref.logic.exporter.AtomicFileOutputStream.getPathOfTemporaryFile </td>
          <td>(</td>
          <td class="paramtype">Path&#160;</td>
          <td class="paramname"><em>targetFile</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ab9fd3e19d9a0a148a8b7d279198d38fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9fd3e19d9a0a148a8b7d279198d38fb">&#9670;&nbsp;</a></span>write() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void org.jabref.logic.exporter.AtomicFileOutputStream.write </td>
          <td>(</td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"><em>b</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>off</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> throws IOException</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Override for performance reasons. </p>

</div>
</div>
<a id="a1c883ff17dffff911cb935ea8e889964"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c883ff17dffff911cb935ea8e889964">&#9670;&nbsp;</a></span>write() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void org.jabref.logic.exporter.AtomicFileOutputStream.write </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>b</em></td><td>)</td>
          <td> throws IOException</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a92e3f7bd225c5022e41e80b442d5c3c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a92e3f7bd225c5022e41e80b442d5c3c2">&#9670;&nbsp;</a></span>BACKUP_EXTENSION</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final String org.jabref.logic.exporter.AtomicFileOutputStream.BACKUP_EXTENSION = &quot;.bak&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a653ba7e5d5b0a1688994f6579c2cb114"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a653ba7e5d5b0a1688994f6579c2cb114">&#9670;&nbsp;</a></span>backupFile</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final Path org.jabref.logic.exporter.AtomicFileOutputStream.backupFile</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>A backup of the target file (if it exists), created when the stream is closed </p>

</div>
</div>
<a id="ac02ee080160092d512f3cc528c73bbb1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac02ee080160092d512f3cc528c73bbb1">&#9670;&nbsp;</a></span>keepBackup</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final boolean org.jabref.logic.exporter.AtomicFileOutputStream.keepBackup</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a6d38b9cd70f8842a62078e242b521f90"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d38b9cd70f8842a62078e242b521f90">&#9670;&nbsp;</a></span>LOGGER</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final Logger org.jabref.logic.exporter.AtomicFileOutputStream.LOGGER = LoggerFactory.getLogger(AtomicFileOutputStream.class)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a532962de18bf1437ea5be486d96e976c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a532962de18bf1437ea5be486d96e976c">&#9670;&nbsp;</a></span>targetFile</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final Path org.jabref.logic.exporter.AtomicFileOutputStream.targetFile</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The file we want to create/replace. </p>

</div>
</div>
<a id="a4f20e5d6ba6cbc42c8fd745451d0c453"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f20e5d6ba6cbc42c8fd745451d0c453">&#9670;&nbsp;</a></span>TEMPORARY_EXTENSION</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final String org.jabref.logic.exporter.AtomicFileOutputStream.TEMPORARY_EXTENSION = &quot;.tmp&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a18826048af78fc65010787de9a875baa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a18826048af78fc65010787de9a875baa">&#9670;&nbsp;</a></span>temporaryFile</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final Path org.jabref.logic.exporter.AtomicFileOutputStream.temporaryFile</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The file to which writes are redirected to. </p>

</div>
</div>
<a id="a4bee80e8b9f646a0c4858655b32e262f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4bee80e8b9f646a0c4858655b32e262f">&#9670;&nbsp;</a></span>temporaryFileLock</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final FileLock org.jabref.logic.exporter.AtomicFileOutputStream.temporaryFileLock</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>src/main/java/org/jabref/logic/exporter/<a class="el" href="_atomic_file_output_stream_8java.html">AtomicFileOutputStream.java</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceorg.html">org</a></li><li class="navelem"><a class="el" href="namespaceorg_1_1jabref.html">jabref</a></li><li class="navelem"><a class="el" href="namespaceorg_1_1jabref_1_1logic.html">logic</a></li><li class="navelem"><a class="el" href="namespaceorg_1_1jabref_1_1logic_1_1exporter.html">exporter</a></li><li class="navelem"><a class="el" href="classorg_1_1jabref_1_1logic_1_1exporter_1_1_atomic_file_output_stream.html">AtomicFileOutputStream</a></li>
    <li class="footer">Generated by <a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20 </li>
  </ul>
</div>
</body>
</html>
